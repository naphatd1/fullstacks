@tailwind base;
@tailwind components;
@tailwind utilities;

/* Dashboard specific styles */
@layer components {
  .dashboard-card {
    @apply rounded-2xl border border-gray-200 dark:border-gray-800 bg-white dark:bg-white/[0.03] transition-all duration-200 hover:shadow-md;
  }
  
  .dashboard-metric-card {
    @apply dashboard-card p-5 md:p-6;
  }
  
  .sidebar-transition {
    @apply transition-all duration-300 ease-in-out;
  }
  
  .loading-shimmer {
    @apply animate-pulse bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700;
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  /* Prevent layout shifts and flickering */
  .stable-layout {
    @apply min-h-screen;
    contain: layout style paint;
  }

  .stable-content {
    @apply w-full;
    contain: layout style;
  }

  .no-flicker {
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
  }
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Custom scrollbar */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* Focus styles */
.focus-ring {
  @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900;
}

/* Error states */
.error-state {
  @apply text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800;
}

/* Success states */
.success-state {
  @apply text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800;
}

/* Warning states */
.warning-state {
  @apply text-yellow-600 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-800;
}

/* API Status Toggle Styles */
.api-status-border {
  @apply bg-white/80 dark:bg-slate-800/80 border border-slate-200/60 dark:border-slate-700/60;
}

.api-status-border-dark {
  @apply bg-slate-800/80 border-slate-700/60;
}

.api-status-border-online {
  @apply bg-emerald-50/90 border-emerald-200/60;
}

.api-status-border-online-dark {
  @apply bg-emerald-900/20 border-emerald-700/60;
}

.api-tooltip-text {
  color: white !important;
}

/* Theme Toggle Styles */
.theme-toggle-border {
  @apply bg-white/80 dark:bg-slate-800/80 border border-slate-200/60 dark:border-slate-700/60;
}

.theme-toggle-border-dark {
  @apply bg-slate-800/80 border-slate-700/60;
}

/* Shimmer animation */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

.animate-shimmer {
  animation: shimmer 2s infinite;
}

/* Fade in animation */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

@layer base {
  html {
    font-family: system-ui, sans-serif;
  }
}

@layer components {
  .btn-primary {
    @apply inline-flex items-center justify-center px-3 py-2 sm:px-4 sm:py-2 border border-transparent text-xs sm:text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 min-h-[36px] sm:min-h-[40px];
  }
  
  .btn-primary-lg {
    @apply inline-flex items-center justify-center px-4 py-2 sm:px-6 sm:py-3 lg:px-8 lg:py-4 border border-transparent text-sm sm:text-base lg:text-lg font-medium rounded-lg sm:rounded-xl shadow-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 min-h-[44px] sm:min-h-[48px] lg:min-h-[52px];
  }
  
  .btn-secondary {
    @apply inline-flex items-center justify-center px-3 py-2 sm:px-4 sm:py-2 border border-gray-300 shadow-sm text-xs sm:text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 min-h-[36px] sm:min-h-[40px];
  }
  
  .btn-icon {
    @apply inline-flex items-center justify-center p-1.5 sm:p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500 min-h-[32px] min-w-[32px] sm:min-h-[36px] sm:min-w-[36px];
  }
  
  .form-input {
    @apply block w-full px-3 py-2 sm:px-4 sm:py-2.5 border border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500 text-sm sm:text-base placeholder:text-xs sm:placeholder:text-sm;
  }
  
  .form-label {
    @apply block text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2;
  }
  
  .card {
    @apply bg-white overflow-hidden shadow rounded-lg sm:rounded-xl;
  }
  
  .card-header {
    @apply px-3 py-3 sm:px-4 sm:py-4 lg:px-6 lg:py-5;
  }
  
  .card-body {
    @apply px-3 py-3 sm:px-4 sm:py-4 lg:px-6 lg:py-5;
  }
  
  .text-truncate {
    @apply truncate;
  }
}

@layer utilities {
  /* API Status Toggle Animations */
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: scale(0.8);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }
  
  @keyframes glow-pulse {
    0%, 100% {
      box-shadow: 0 0 5px currentColor;
    }
    50% {
      box-shadow: 0 0 20px currentColor, 0 0 30px currentColor;
    }
  }
  
  @keyframes shimmer {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }
  
  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }
  
  .animate-glow-pulse {
    animation: glow-pulse 2s ease-in-out infinite;
  }
  
  .animate-shimmer {
    animation: shimmer 2s ease-in-out infinite;
  }
  
  /* Shadow utilities */
  .shadow-3xl {
    box-shadow: 0 35px 60px -12px rgba(0, 0, 0, 0.25);
  }
  
  /* API Status Toggle Border Effects */
  .api-status-border {
    position: relative;
    border: 2px solid transparent;
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.1), rgba(203, 213, 225, 0.05)) padding-box,
                linear-gradient(135deg, rgba(148, 163, 184, 0.4), rgba(203, 213, 225, 0.2), rgba(148, 163, 184, 0.4)) border-box;
  }
  
  .api-status-border-dark {
    background: linear-gradient(135deg, rgba(51, 65, 85, 0.6), rgba(30, 41, 59, 0.4)) padding-box,
                linear-gradient(135deg, rgba(100, 116, 139, 0.5), rgba(71, 85, 105, 0.3), rgba(100, 116, 139, 0.5)) border-box;
  }
  
  .api-status-border-online {
    background: linear-gradient(135deg, rgba(148, 163, 184, 0.1), rgba(203, 213, 225, 0.05)) padding-box,
                linear-gradient(135deg, rgba(16, 185, 129, 0.4), rgba(5, 150, 105, 0.3), rgba(16, 185, 129, 0.4)) border-box;
  }
  
  .api-status-border-online-dark {
    background: linear-gradient(135deg, rgba(51, 65, 85, 0.6), rgba(30, 41, 59, 0.4)) padding-box,
                linear-gradient(135deg, rgba(16, 185, 129, 0.5), rgba(5, 150, 105, 0.4), rgba(16, 185, 129, 0.5)) border-box;
  }
  
  /* Force white text in tooltip */
  .api-tooltip-text {
    color: white !important;
  }
  
  /* Theme Toggle Border Effects */
  .theme-toggle-border {
    position: relative;
    border: 2px solid transparent;
    background: linear-gradient(135deg, rgba(249, 250, 251, 0.8), rgba(243, 244, 246, 0.6)) padding-box,
                linear-gradient(135deg, rgba(203, 213, 225, 0.4), rgba(148, 163, 184, 0.3), rgba(203, 213, 225, 0.4)) border-box;
  }
  
  .theme-toggle-border-dark {
    background: linear-gradient(135deg, rgba(51, 65, 85, 0.6), rgba(30, 41, 59, 0.4)) padding-box,
                linear-gradient(135deg, rgba(100, 116, 139, 0.5), rgba(71, 85, 105, 0.3), rgba(100, 116, 139, 0.5)) border-box;
  }
  
  .text-truncate-2 {
    @apply overflow-hidden;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
  }
  
  .text-truncate-3 {
    @apply overflow-hidden;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
  }
  
  .text-responsive-title {
    @apply text-lg sm:text-xl lg:text-2xl font-semibold leading-tight;
  }
  
  .text-responsive-subtitle {
    @apply text-sm sm:text-base lg:text-lg font-medium;
  }
  
  .text-responsive-body {
    @apply text-xs sm:text-sm lg:text-base leading-relaxed;
  }
  
  .text-responsive-caption {
    @apply text-xs sm:text-sm text-gray-600 dark:text-gray-400;
  }
}

/* Browser extension compatibility */
@layer base {
  /* Hide extension-added attributes that cause hydration errors */
  [data-gchrome-uniqueid],
  [__gchrome_uniqueid],
  [data-extension-id],
  [chrome-extension-id] {
    /* Ensure extensions don't interfere with React hydration */
  }
  
  /* Prevent extension styles from interfering */
  form[__gchrome_uniqueid],
  input[__gchrome_uniqueid], 
  button[__gchrome_uniqueid] {
    /* Reset extension interference while maintaining functionality */
  }
}